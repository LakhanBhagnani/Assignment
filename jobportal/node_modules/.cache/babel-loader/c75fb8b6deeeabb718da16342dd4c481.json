{"ast":null,"code":"var _jsxFileName = \"E:\\\\Assignment\\\\jobportal\\\\src\\\\pages\\\\Applicants.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport NavBar from \"../component/NavBar\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Applicants = () => {\n  _s();\n\n  const [applications, setapplications] = useState({});\n  const [userdetails, setUserdetails] = useState(JSON.parse(localStorage.getItem(\"UserDetails\")));\n  const [isLoggedin, setLogg] = useState(localStorage.getItem(\"token\") == null ? false : true);\n  const [pageNumber, setPagenumber] = useState(0);\n  const applicationsperpage = 10;\n  const pageVisited = pageNumber * applicationsperpage;\n  const pageCount = Math.ceil(applications.length / applicationsperpage);\n  const user = userdetails.Username;\n\n  const loadData = () => {\n    fetch(\"http://localhost:3001/api/getJobCandidates/\" + user).then(response => response.json()).then(data => {\n      setapplications(data.recordset);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  if (isLoggedin) {\n    if (localStorage.getItem(\"type\") === \"Candidate\") return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/CandidateHome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this);\n  } else if (!isLoggedin) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }, this);\n  }\n\n  const distinctProfile = Object.entries(applications).map(function (x) {\n    return x[1].JobRole;\n  }).filter(function test(val, ind, self) {\n    return self.indexOf(val) === ind;\n  });\n  const distinctStatus = Object.entries(applications).map(function (x) {\n    return x[1].JobStatus;\n  }).filter(function test(val, ind, self) {\n    return self.indexOf(val) === ind;\n  });\n  const statusRender = distinctStatus.map(Status => {\n    return /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n      onClick: () => statusFilter(Status),\n      children: Status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this);\n  });\n  const RoleRender = distinctProfile.map(Role => {\n    return /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n      onClick: () => Rolefilter(Role),\n      children: Role\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this);\n  });\n\n  const Rolefilter = role => {\n    let filtered = applications.filter(e => {\n      return e.JobRole == role;\n    });\n    setapplications(filtered);\n  };\n\n  const statusFilter = status => {\n    let filtered = applications.filter(e => {\n      return e.JobStatus == status;\n    });\n    setapplications(filtered);\n  };\n\n  const displayapplications = Object.entries(applications).slice(pageVisited, pageVisited + applicationsperpage).map((application, index) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [application[1].FirstName, \" \", application[1].LastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: application[1].JobRole\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: application[1].JobStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n          id: \"dropdown-basic-button\",\n          title: \"Application Status\",\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => setStatus(application[1].CANDIDATE_ID, application[1].JOB_ID, \"Profile Reviewed\"),\n            children: \"Profile Reviewed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => setStatus(application[1].CANDIDATE_ID, application[1].JOB_ID, \"Interview Scheduled\"),\n            children: \"Interview Scheduled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => setStatus(application[1].CANDIDATE_ID, application[1].JOB_ID, \"Accepted\"),\n            children: \"Accepted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => setStatus(application[1].CANDIDATE_ID, application[1].JOB_ID, \"Rejected\"),\n            children: \"Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this);\n  });\n\n  const setStatus = (UserId, jobId, status) => {\n    let obj = {\n      status,\n      jobId,\n      UserId\n    };\n    axios.post(\"http://localhost:3001/api/setCandidateStatus/\", obj).then(response => {\n      if (response) {\n        console.log(response);\n        loadData();\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"filters d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n        id: \"dropdown-basic-button\",\n        title: \"Status\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => loadData(),\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 6\n        }, this), statusRender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n        id: \"dropdown-basic-button\",\n        title: \"Job-Profile\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => loadData(),\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this), RoleRender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table table-hover\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Job Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Set Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: displayapplications\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Applicants, \"1uc11MYPVzO5pZtCOMIqPuXtjgo=\");\n\n_c = Applicants;\nexport default Applicants;\n\nvar _c;\n\n$RefreshReg$(_c, \"Applicants\");","map":{"version":3,"sources":["E:/Assignment/jobportal/src/pages/Applicants.jsx"],"names":["axios","React","useEffect","useState","Redirect","NavBar","DropdownButton","Dropdown","Applicants","applications","setapplications","userdetails","setUserdetails","JSON","parse","localStorage","getItem","isLoggedin","setLogg","pageNumber","setPagenumber","applicationsperpage","pageVisited","pageCount","Math","ceil","length","user","Username","loadData","fetch","then","response","json","data","recordset","distinctProfile","Object","entries","map","x","JobRole","filter","test","val","ind","self","indexOf","distinctStatus","JobStatus","statusRender","Status","statusFilter","RoleRender","Role","Rolefilter","role","filtered","e","status","displayapplications","slice","application","index","FirstName","LastName","setStatus","CANDIDATE_ID","JOB_ID","UserId","jobId","obj","post","console","log"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport NavBar from \"../component/NavBar\";\r\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\nconst Applicants = () => {\r\n\tconst [applications, setapplications] = useState({});\r\n\tconst [userdetails, setUserdetails] = useState(\r\n\t\tJSON.parse(localStorage.getItem(\"UserDetails\"))\r\n\t);\r\n\tconst [isLoggedin, setLogg] = useState(\r\n\t\tlocalStorage.getItem(\"token\") == null ? false : true\r\n\t);\r\n\tconst [pageNumber, setPagenumber] = useState(0);\r\n\tconst applicationsperpage = 10;\r\n\tconst pageVisited = pageNumber * applicationsperpage;\r\n\tconst pageCount = Math.ceil(applications.length / applicationsperpage);\r\n\tconst user = userdetails.Username;\r\n\tconst loadData = () => {\r\n\t\tfetch(\"http://localhost:3001/api/getJobCandidates/\" + user)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetapplications(data.recordset);\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tloadData();\r\n\t}, []);\r\n\tif (isLoggedin) {\r\n\t\tif (localStorage.getItem(\"type\") === \"Candidate\")\r\n\t\t\treturn <Redirect to='/CandidateHome' />;\r\n\t} else if (!isLoggedin) {\r\n\t\treturn <Redirect to='/Login'></Redirect>;\r\n\t}\r\n\tconst distinctProfile = Object.entries(applications)\r\n\t\t.map(function (x) {\r\n\t\t\treturn x[1].JobRole;\r\n\t\t})\r\n\t\t.filter(function test(val, ind, self) {\r\n\t\t\treturn self.indexOf(val) === ind;\r\n\t\t});\r\n\tconst distinctStatus = Object.entries(applications)\r\n\t\t.map(function (x) {\r\n\t\t\treturn x[1].JobStatus;\r\n\t\t})\r\n\t\t.filter(function test(val, ind, self) {\r\n\t\t\treturn self.indexOf(val) === ind;\r\n\t\t});\r\n\tconst statusRender = distinctStatus.map((Status) => {\r\n\t\treturn (\r\n\t\t\t<Dropdown.Item onClick={() => statusFilter(Status)}>\r\n\t\t\t\t{Status}\r\n\t\t\t</Dropdown.Item>\r\n\t\t);\r\n\t});\r\n\tconst RoleRender = distinctProfile.map((Role) => {\r\n\t\treturn (\r\n\t\t\t<Dropdown.Item onClick={() => Rolefilter(Role)}>{Role}</Dropdown.Item>\r\n\t\t);\r\n\t});\r\n\tconst Rolefilter = (role) => {\r\n\t\tlet filtered = applications.filter((e) => {\r\n\t\t\treturn e.JobRole == role;\r\n\t\t});\r\n\t\tsetapplications(filtered);\r\n\t};\r\n\tconst statusFilter = (status) => {\r\n\t\tlet filtered = applications.filter((e) => {\r\n\t\t\treturn e.JobStatus == status;\r\n\t\t});\r\n\t\tsetapplications(filtered);\r\n\t};\r\n\r\n\tconst displayapplications = Object.entries(applications)\r\n\t\t.slice(pageVisited, pageVisited + applicationsperpage)\r\n\t\t.map((application, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{application[1].FirstName} {application[1].LastName}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{application[1].JobRole}</td>\r\n\t\t\t\t\t<td>{application[1].JobStatus}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\tid='dropdown-basic-button'\r\n\t\t\t\t\t\t\ttitle='Application Status'>\r\n\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetStatus(\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].CANDIDATE_ID,\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].JOB_ID,\r\n\t\t\t\t\t\t\t\t\t\t\"Profile Reviewed\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\tProfile Reviewed\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetStatus(\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].CANDIDATE_ID,\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].JOB_ID,\r\n\t\t\t\t\t\t\t\t\t\t\"Interview Scheduled\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\tInterview Scheduled\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetStatus(\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].CANDIDATE_ID,\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].JOB_ID,\r\n\t\t\t\t\t\t\t\t\t\t\"Accepted\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\tAccepted\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetStatus(\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].CANDIDATE_ID,\r\n\t\t\t\t\t\t\t\t\t\tapplication[1].JOB_ID,\r\n\t\t\t\t\t\t\t\t\t\t\"Rejected\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\tRejected\r\n\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t});\r\n\tconst setStatus = (UserId, jobId, status) => {\r\n\t\tlet obj = {\r\n\t\t\tstatus,\r\n\t\t\tjobId,\r\n\t\t\tUserId,\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.post(\"http://localhost:3001/api/setCandidateStatus/\", obj)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tloadData();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavBar />\r\n\t\t\t<div class='filters d-flex'>\r\n\t\t\t\t<DropdownButton id='dropdown-basic-button' title='Status'>\r\n\t\t\t\t\t<Dropdown.Item onClick={() => loadData()}>All</Dropdown.Item>\r\n\t\t\t\t\t{statusRender}\r\n\t\t\t\t</DropdownButton>\r\n\t\t\t\t<DropdownButton id='dropdown-basic-button' title='Job-Profile'>\r\n\t\t\t\t\t<Dropdown.Item onClick={() => loadData()}>All</Dropdown.Item>\r\n\t\t\t\t\t{RoleRender}\r\n\t\t\t\t</DropdownButton>\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<table class='table table-hover'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th scope='col'>Name</th>\r\n\t\t\t\t\t\t<th scope='col'>Job Profile</th>\r\n\t\t\t\t\t\t<th scope='col'>Status</th>\r\n\t\t\t\t\t\t<th scope='col'>Set Status</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>{displayapplications}</tbody>\r\n\t\t\t</table>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Applicants;\r\n"]},"metadata":{},"sourceType":"module"}